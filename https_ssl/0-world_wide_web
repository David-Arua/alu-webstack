#!/usr/bin/env bash

# Function to check DNS records for a given subdomain and domain name
check_dns_record() {
    local sub=$1
    local domain=$2
    local result=$(dig +short "$sub.$domain")

    if [ -z "$result" ]; then
        echo "The subdomain $sub.$domain does not resolve to an IP address."
    else
        echo "The subdomain $sub.$domain resolves to $result"
    fi
}

# Main script execution
domain_name=$1

# Check if domain name is provided
if [ -z "$domain_name" ]; then
    echo "Usage: $0 domain_name [sub_domain...]"
    exit 1
fi

# Check if subdomains are provided
if [ "$#" -eq 2 ]; then
    sub_domain=($2)
else
    sub_domain=("www" "lb-01" "web-01" "web-02")
fi

# Loop through each subdomain and check DNS records
for sub in "${sub_domain[@]}"; do
    check_dns_record "$sub" "$domain_name"
done
